# 01_Springboot

> 스프링부트에 대한 이해

`Spring != Springboot`

Springboot는 스프링 사용에 대한 의견을 담은 하나의 프레임워크다.

- Springboot는 Spring을 이용해서 동작한다.
- Springboot 이해의 핵심은 Springboot가 Spring을 어떻게 이용해서 동작하는가에 대한 이해이다.

<br>

## 1. Springboot란 무엇인가?

> Springboot는 Spring을 기반으로 실무 환경에 사용 가능한 수준의 독립 실행형 어플리케이션을 복잡한 고민 없이 빠르게 작성할 수 있게 도와주는 여러 가지 도구 모음이다.

결국 Springboot로 Spring 어플리케이션을 만드는 것이다.

기존에 Spring을 사용해서 어플리케이션을 만드는 것은 많은 고민과 노력이 필요하다는 것을 Springboot의 정의에서 알 수 있다.

### 1) Springboot의 목표

- 매우 빠르고 광범위한 영역의 스프링 개발 경험 제공
- 강한 주장을 가지고 즉시 적용 가능한 기술 조합을 제공하면서, 필요에 따라 원하는 방식으로 손쉽게 변형 가능
- 프로젝트에서 필요로 하는 다양한 비기능적인 기술(내장형 서버, 보안, 메트릭, 상태 체크, 외부 설정 방식 등) 제공
- 코드 생성이나 XML 설정을 필요로 하지 않음 (XML이 없는 Spring 어플리케이션 개발 가능)

<br>

### 2) Springboot의 역사

기존의 Spring에서 "Containerless한 웹 개발 아키텍처 지원" 요청 논의에서 출발함

- 엔터프라이즈 개발 영역이 다양하게 확장됨에 따라 간단한 어플리케이션 프레임워크의 필요성이 대두됨
- 스프링 웹 어플리케이션은 서블릿 컨테이너 안에 포함(embedded)되어 있는데, 이는 엔터프라이즈 어플리케이션들이 서블릿 컨테이너 기반으로 동작할 때는 유용했음
- 그러나 서블릿 컨테이너라는 개념은 러닝 커브가 높아, 스프링에 대한 진입 장벽을 높이는데 일조함

따라서 다른 간편한 개발 프레임워크처럼 스프링도 변화가 필요함을 주장

이러한 주장이 수용되고 스프링 개발자들 내부에서 여러 논의가 오고 간 뒤, 스프링 자체를 개선하는 것보다 아예 `새로운 프로젝트`를 하나 시작하기로 결정하였고, 그것이 지금의 스프링부트이다.

<br>

## 2. Containerless

> Containerless Web Application Architecture

### 1) Serverless

절대 "서버가 없다"는 의미가 아니므로 유의할 것!

클라우드 컴퓨팅 모델 중 하나로 `개발자가 직접 서버를 관리하지 않아도 되는 어플리케이션 아키텍처 모델`이다.

#### (1) Containerless

Containerless도 마찬가지로 "컨테이너가 없음"을 의미하는 것이 아니다.

그렇다면 Containerless의 의미는 무엇일까? Serverless와 의미가 유사하다.

Serverless가 개발자가 서버에 대한 관리 및 신경을 쓰지 않아도 된다는 의미이니, Containerless도 이에 대입해보면, `개발자가 (서블릿) 컨테이너에 대한 관리 및 신경을 쓰지 않아도 된다`는 의미를 가진다.

즉, 컨테이너에 대한 신경을 쓰지말고 서비스에 대해 좀 더 집중하라는 것을 내포하고 있다.

<br>

### 2) Container

> Spring Framework는 IOC Container다

웹 클라이언트가 요청을 보내면 웹 컴포넌트가 동적 컨텐츠를 반환하는 것이 우리가 아는 웹 동작 흐름의 가장 기본이다.

이 때 웹 컴포넌트(Web Component)는 한 개가 아니고 여러 개인데, 여러 개의 웹 컴포넌트들의 라이프 사이클을 관리하고 들어온 요청을 적절한 웹 컴포넌트에 할당하는 역할을 하는 것이 웹 컨테이너(Web Container)다. 즉, 웹 컴포넌트들은 웹 컨테이너 내에서 동작한다.

이를 Java 진영의 기술로 표현하면  웹 컴포넌트는 `서블릿(Servlet)`이라고 하며, 웹 컨테이너를 `서블릿 컨테이너(Servlet Container)`라고 한다.

#### (1) Spring Container

스프링 컨테이너는 서블릿 컨테이너 뒷 단에서 동작한다.

서블릿으로 들어온 요청을 스프링 컨테이너 내부에 있는 빈(Bean)들이 받아서 처리하는 방식으로 동작한다. 간단히 말해서 우리가 만든 어플리케이션 코드들이 스프링 컨테이너 내에서 동작한다고 이해하면 된다.

- 그럼 굳이 서블릿 컨테이너를 사용하지 말고 스프링 컨테이너가 이를 대체하면 되지 않을까?
  - 불가능함. Java 기반의 기술을 사용하기 위해선 서블릿 컨테이너가 결국엔 필요함
- 그러나, 서블릿 컨테이너는 구동이 어려움
  - xml, WEB-INF 설정, war(web application archive)로 빌드, 프로젝트 폴더 구조 구성, 서버(Tomcat) 설치 및 실행, war 배포, 에러 충돌 해결, 클래스 로더, 로깅, ... (엄청 많음)
  - 그런데 이러한 것들은 실제 어플리케이션 서비스 로직과 상관이 없으며 개발 초반에 몇 번 보고 끝인데 반드시 알고 있어야 함
  - 학습 곡선이 높은데 유용성은 매우 떨어짐

<br>

## 3. Opinionated

> "고민하지마, 내가 다 할테니 너는 개발만 해"

### 1) 스프링의 철학

#### (1) 유연함, 다양한 관점, 포용력, Not Opinionated

주장을 강하게 고집하지 않고, 다양한 관점들을 포용력있고 유연하게 수용함.

개발자들이 개발을 함에 있어 시간을 들여 고민하게 됨.

그런데 개발 도중 생각했던 것과는 다른 상황 발생 → "어? 뭐가 안 맞네?, 이거 쓸 수가 없는데?" 등

<br>

### 2) 스프링부트의 철학

#### (1) Opinionated

자기 주장이 강한

스프링을 잘 활용하는 뛰어난 방법을 제공함 → 사용 기술과 의존성 라이브러리를 결정

- 업계에서 검증된 스프링 생태계 프로젝트, 표준 자바 기술 및 인터페이스, 오픈 소스 기술의 종류와 의존관계, 사용 버전을 정해줌
- 각 기술을 스프링에 적용하는 방식과 디폴트 설정값을 제공
  - DI 구성, Bean 설정 방식 등

#### (2) 유연한 확장

스프링부터에 내장된 디폴트 구성을 커스터마이징하는 매우 자연스럽고 유연한 방법을 제공

스프링부트가 동작하는 방법을 이해하게 되면,

- 스프링부트가 스프링을 사용하는 방식을 이용한다면 언제라도 스프링부트를 제거하고 원하는 방식으로 재구성 가능
- 스프링부트처럼 기술과 구성을 간편하게 제공하는 나만의 모듈을 작성할 수 있음

<br>

## 4. 스프링부트의 이해

### 1) 스프링부트를 사용한 일반적인 개발 방법

- 스프링부트가 결정한 기술과 구성, 디폴트 설정 등을 수용
- 외부 설정 파일을 이용한 설정 변경 방법 활용

하여 아주 빠르게 개발을 시작. 그러나 어느 시점 이후에는 한계와 어려움이 있음.

<br>

### 2) 스프링부트를 이용한 개발의 오해와 한계

다음은 흔히 많은 사람들이 스프링부트를 사용해서 개발할 때 가지게 되는 오해와 한계임.

- 어플리케이션 기능 코드만 잘 작성하면 된다.
- 스프링을 몰라도 스프링부트만 있으면 개발을 잘 할 수 있다.
- 스프링부트가 직접적으로 보여주지 않는 것은 몰라도 된다. (굳이 알 필요 없다.)
- 뭔가 기술적인 필요가 생기면 그 때마다 검색해서 해결한다.

<br>

### 3) 스프링부트를 이해하게 되면

- 스프링부트가 스프링의 기술을 어떻게 활용하는지 배우고 이해할 수 있다.
- 스프링부트가 선택한 기술, 자동으로 만들어주는 구성, 디폴트 설정이 어떤 것인지 확인할 수 있다.
- 필요할 때 스프링부트의 기본 구성을 수정하거나 확장할 수 있다.
- 나만의 스프링부트 모듈을 만들어 활용할 수 있다.

<br>

```
프레임워크를 효과적으로 재사용하기 위해서는 프레임워크의 최종 모습뿐만 아니라, 현재의 모습을 띠게 되기까지 진화한 과정을 살펴보는 것이 가장 효과적이다.
프레임워크의 진화 과정 속에는 프레임워크의 구성 원리 및 설계 원칙, 재사용 가능한 컨텍스트와 변경 가능성에 관련된 다양한 정보들이 들어있기 때문이다.
```

