# 36_페이지네이션(Pagination)

> 대량의 데이터를 일정 단위(사이즈)로 나눠서 조회하는 기법

## 1. 종류

### 1) Offset 기반

가장 일반적인 페이지네이션 방식으로 "몇 번째 페이지"를 요청하는 방식으로, 일반적인 데이터(게시판 등) 페이지 처리에 많이 사용된다.

SQL 쿼리에서 사용하는 offset과 동일한 개념이라고 이해하면 된다.

다만, offset 기반의 페이지네이션은 대용량 데이터일 경우에 성능 문제가 있을 수도 있다.

- 첫 번째 문제로는 offset 쿼리 특성상 DB에서 앞에 있는 데이터를 전부 읽은 다음에 버리기 때문에 느려진다는 점이 있고,
- 두 번째 문제로는 페이징 처리시 전체 데이터의 개수를 세기 위해 마지막에 count 쿼리를 날리는데 데이터가 많으면 count 쿼리 자체가 무거워질 수밖에 없다.

또한 중간에 데이터가 수정(추가, 삭제)될 경우 데이터 중복/누락 발생 가능성이 있다.

### 2) Cursor 기반

"마지막으로 본 데이터 이후"의 데이터를 요청하는 페이지네이션 방식으로, 대용량 데이터에 유리하며 주로 무한 스크롤, 피드형 데이터 제공에 적합하다.

offset 기반의 페이지네이션과 달리 특정 페이지로 이동하는 것은 불가능하다. 다만, 마지막 데이터 이후를 기준으로 검색하기 때문에 데이터 중복/누락의 가능성이 없다는 장점이 있다.

<br>

## 2. Spring Data JPA의 Page

Spring 진영에서는 Spring Data JPA가 페이지네이션을 위한 편의성을 제공하고 있어 이를 활용해서 페이징 처리를 할 수 있다.