# 15_가비지 컬렉션(Garbage Collection; GC)

> Java의 메모리 관리 방법 중 하나로 JVM의 Heap 영역에 동적으로 할당했던 메모리 중 필요 없게 된 메모리 객체 (garbage)들을 모아 주기적으로 제거하는 프로세스

C, C++의 경우 메모리 할당과 해제 등 메모리 관리를 개발자가 직접해줘야 하는 반면, Java의 경우 GC가 있어서 메모리 관리 및 메모리 누수 문제에 대해 비교적 자유로워 `개발에만 집중할 수 있다는 장점`이 있다.

Java 뿐만 아니라, Python, JS, GoLang 에도 GC가 기본적으로 내장되어 있다.

그러나 GC에도 단점이 존재하는데, 자동으로 필요 없는 메모리 객체를 처리해준다 해도 `언제 해제되는지 정확하게 알 수 없어 제어가 힘들며`, `GC가 동작하는 동안에는 다른 동작을 멈추기 때문에 오버헤드가 발생`하는 문제가 있다.

- GC가 동작하는 동안 다른 동작을 멈추는 행동을 `Stop-The-World`라고 한다.
  - Stop-The-World: GC를 수행하기 위해 JVM이 프로그램 실행을 멈추는 현상
  - 이 시간이 길어지면 서비스에 차질이 생기기 때문에 이를 최소화하는 것이 핵심 쟁점이다

이처럼 GC가 너무 자주 실행될 경우 성능 하락의 문제가 있어, `GC 최적화`라는 과제가 남아 있다.

- GC 최적화 작업을 GC 튜닝이라고 한다.

<br>

## 1. 가비지 컬렉션 대상

>Unreachable: 객체가 참조되고 않지 있는 상태 (GC 대상)

GC는 특정 객체가 Garbage인지 아닌지 판단하기 위해 도달성(Reachability)라는 개념을 적용하는데, 객체의 상태는 도달성에 따라 2가지로 나뉜다.

- Reachable: 객체가 참조되고 있는 상태
- Unreachable: 객체가 참조되고 않지 있는 상태 (GC 대상)

객체에 레퍼런스가 있다면 Reachable 상태로 구분되고, 유효한 레퍼런스가 없다면 Unreachable 상태로 구분되어 제거 대상이 된다.



