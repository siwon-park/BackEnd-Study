# 20_멀티 스레딩

> java에서 멀티 스레딩 구현하기

## 1. 구현

java에서 멀티 스레딩을 구현하는 방법에는 크게 2가지가 있다.

### 1) Thread 클래스

#### (1) 정의

자체적으로 스레드를 생성하고 실행할 수 있는 클래스

#### (2) 구현

직접 Thread 클래스를 인스턴스화하여 호출해도 되고, 다른 클래스에서 Thread 클래스를 상속(`extends`)하는 방법이 있다.

⭐ 단, 만약 이미 다른 클래스를 상속한 상태라면 자바에서는 다중 상속이 불가하므로 Thread 클래스를 상속 받아 사용할 수 없다.

#### (3) 사용

`start()`메서드를 호출하여 스레드를 실행한다.

<br>

### 2) Runnable 인터페이스

#### (1) 정의

`run()` 메서드 하나만을 가지고 있는 인터페이스

#### (2) 구현

`implements`로 Runnable 인터페이스를 구현한 다음 run() 메서드를 정의한다.

⭐ 이미 다른 클래스를 상속한 상태에서는 Thread 클래스를 상속받을 수 없다. 이 때 Runnable 인터페이스는 구현할 수 있기 때문에 이를 구현하여 사용하는 것이다.

#### (3) 사용

Runnable 인터페이스를 구현했다면 run() 메서드밖에 없기 때문에 start()가 없어서 독자적으로 스레드를 실행할 수 없다.

Runnable 인터페이스를 구현한 클래스는 `Thread 클래스의 생성자로 전달되어 스레드 인스턴스를 생성`해야 실행할 수 있다.

마찬가지로 `start()`메서드를 호출하여 스레드를 실행한다.

### 3) 결론

- Runnable 인터페이스를 구현하는 방식으로 사용하면 다른 클래스를 상속받아 사용할 수 있기 때문에 코드를 더 유연하고 재사용 가능하도록 가져갈 수 있다.
- 반면 Thread 클래스를 직접 상속하면 코드 자체는 간단해질 수 있지만, 자바의 다중 상속 제한으로 인해 코드의 유연성은 떨어질 수밖에 없다.
- 100% 어느 것이 항상 더 좋다고 할 수는 없기 때문에 상황에 맞게 선택해서 사용하면 된다.

<br>

## 2. 예시

### 1) 스레드1

Thread 클래스를 직접 상속

![image](https://github.com/siwon-park/BackEnd-Study/assets/93081720/dfbca937-1d4b-4fb6-80fc-7b4e1fc1693b)

### 2) 스레드2

다른 부모 클래스를 상속받은 상태에서 Runnable 인터페이스를 구현

![image](https://github.com/siwon-park/BackEnd-Study/assets/93081720/c2370268-9099-4eab-9dcc-d08c93e11d42)

### 3) main 함수

![image](https://github.com/siwon-park/BackEnd-Study/assets/93081720/d970efaa-1d79-4772-95df-27c6c0afa431)

- 멀티 스레딩 테스트

![image](https://github.com/siwon-park/BackEnd-Study/assets/93081720/53024b93-7e82-47e5-880e-a48af6994232)